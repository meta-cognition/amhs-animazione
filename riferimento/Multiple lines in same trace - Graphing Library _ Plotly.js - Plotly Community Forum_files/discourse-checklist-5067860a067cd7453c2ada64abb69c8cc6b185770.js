define("discourse/plugins/discourse-checklist/lib/discourse-markdown/checklist",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.registerOptions(function(e,n){e.features.checklist=!!n.checklist_enabled}),e.whiteList(["span.chcklst-stroked","span.chcklst-box fa fa-square-o fa-fw","span.chcklst-box checked fa fa-check-square-o fa-fw","span.chcklst-box checked permanent fa fa-check-square fa-fw"]),e.registerPlugin(function(e){return e.core.ruler.push("checklist",n)})};var u=/\[(\s?|x|X)\]/g;function l(e,n,c,t){var i=function(e){switch(e){case"x":return"checked fa fa-check-square-o fa-fw";case"X":return"checked permanent fa fa-check-square fa-fw";default:return"fa fa-square-o fa-fw"}}(c[1]),s=new t.Token("check_open","span",1);s.attrs=[["class","chcklst-box ".concat(i)]],e.push(s);var a=new t.Token("check_close","span",-1);e.push(a)}function n(e){for(var n,c,t,i,s=e.tokens,a=0,r=0,o=s.length;r<o;r++)if("inline"===s[r].type)for(n=(c=s[r].children).length-1;0<=n;n--){a+=(i=c[n]).nesting,"text"!==i.type||0!==a||(t=function(e,n){for(var c,t,i,s=null,a=0;c=u.exec(e);){c.index>a&&(s=s||[],(t=new n.Token("text","",0)).content=e.slice(a,c.index),s.push(t)),a=c.index+c[0].length,l(s=s||[],0,c,n)}return s&&a<e.length&&((i=new n.Token("text","",0)).content=e.slice(a),s.push(i)),s}(i.content,e))&&(s[r].children=c=e.md.utils.arrayReplaceAt(c,n,t))}}}),define("discourse/plugins/discourse-checklist/discourse/initializers/checklist",["exports","discourse/lib/plugin-api","discourse/lib/ajax","discourse-common/lib/icon-library","I18n"],function(e,n,t,i,l){"use strict";function c(e,n){var c,o,u;n&&(c=e.find(".chcklst-box"),o=n.widget,(u=n.getModel()).can_edit&&(c.each(function(r,e){$(e).click(function(e){var a,n=$(e.currentTarget);n.hasClass("permanent")||(a=n.hasClass("checked")?"[ ]":"[x]",n.after((0,i.iconHTML)("spinner",{class:"fa-spin"})).hide(),(0,t.ajax)("/posts/".concat(u.id),{type:"GET",cache:!1}).then(function(c){var t=[];[/`[^`\n]*\n?[^`\n]*`/gm,/^```[^]*?^```/gm,/\[code\][^]*?\[\/code\]/gm,/_(?=\S).*?\S_/gm,/~~(?=\S).*?\S~~/gm].forEach(function(e){for(var n;null!=(n=e.exec(c.raw));)t.push([n.index,n.index+n[0].length])}),[/([^\[\n]|^)\*\S.+?\S\*(?=[^\]\n]|$)/gm].forEach(function(e){for(var n;null!=(n=e.exec(c.raw));)t.push([n.index+1,n.index+n[0].length])});var i=-1,s=!1,e=c.raw.replace(/\[(\s|\_|\-|\x|\\?\*)?\]/gi,function(n,e,c){return!s&&(i+=t.every(function(e){return e[0]>=c+n.length||c>e[1]}))===r?(s=!0,a):n}),n=u.save({raw:e,edit_reason:l.default.t("checklist.edit_reason")});n&&n.then&&n.then(function(){o.attrs.isSaving=!1,o.scheduleRerender()})}))})}),c.css({cursor:"pointer"})))}Object.defineProperty(e,"__esModule",{value:!0}),e.checklistSyntax=c,e.default=void 0;var s={name:"checklist",initialize:function(){(0,n.withPluginApi)("0.1",function(e){var n;(n=e).container.lookup("site-settings:main").checklist_enabled&&n.decorateCooked(c,{id:"checklist"})})}};e.default=s});
//# sourceMappingURL=https://sjc3.discourse-cdn.com/business7/assets/plugins/discourse-checklist-5067860a067cd7453c2ada64abb69c8cc6b1857707d20a70f16fc2a5f9a08daf.js.map